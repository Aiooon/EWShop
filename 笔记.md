# 详细步骤

## 1. 使用 vue-cli 创建项目

```javascript
vue create projectname
```

### Project setup

```javascript
npm install
```

### Compiles and hot-reloads for development

```javascript
npm run serve
```

### Compiles and minifies for production

```javascript
npm run build
```

### Customize configuration

See [Configuration Reference](https://cli.vuejs.org/config/).



## 2. 初始化项目目录，创建路径别名

### 初始化项目目录

- 在 `components` 文件夹下创建两个子目录。`common` 目录用于编写公用组件，这些组件对于项目依赖很小，即使脱离了项目也可在别处应用，`content` 用于编写在这个项目中公用的组件，脱离项目后不可再使用。
- 在 `views` 文件夹下为每个页面创建文件夹，在其中编写每个页面对应的组件

![](https://raw.githubusercontent.com/Aiooon/blogImg/main/img/20210609205058.png)

### 创建路径别名

为了防止在编码中路径嵌套过深，需要为常用路径创建别名，例如：

``` javascript
// @ 是webpack提供的别名，代表/src
import HelloWorld from '@/components/HelloWorld.vue'
```

新建 `vue.config.js` 文件，并在其中添加以下代码：

```javascript
// 设置目录别名，防止路径过深
// 起别名的时候需要借助 webpack
// 在 vue 配置文件中中引入 webpack
module.exports = {
    configureWebpack: {
        resolve: {  // 设置别名，重启服务后生效
            alias: {
                'assets': '@/assets',
                'components':'@/components',
                'network':'@/network',
                'utils':'@/utils',
                'views':'@/views',
            }
        }
    },
    // 打包的输出路径
    publicPath: './'
}
```

在编码中要注意，有些地方访问别名时前面需要加 `~` ：

```javascript
<template>
  <div class="home">
    <div class="demo">this is a test</div>
    <!-- 在模板中访问别名时需要加 ~，如 ~assets -->
    <img src="~assets/images/2.png">
    <img :src="imgsrc">
    <img alt="Vue logo" src="~assets/logo.png">
    <HelloWorld msg="Welcome to Your Vue.js App"/>
  </div>
</template>

<style scoped>
.demo {
  /* 在 style 中访问别名时也需要加 ~ */
  background: url('~assets/images/2.png') no-repeat;
  width: 400px;
  height: 400px;
  color: var(--color-high-text);
}
</style>

```



## 3. 初始化项目的全局样式内容

`assets` 目录下用于存放项目的公用资源，例如图片 `images` 和全局样式 `css` ，新建这两个文件夹。

![](https://raw.githubusercontent.com/Aiooon/blogImg/main/img/20210609210441.png)

对于全局样式，[这里](https://github.com/necolas/normalize.css)提供了一套通用的全局样式，直接将其中的 `normalize.css` 拷贝到 `css` 目录下即可，然后新建 `base.css` 文件，在这里编写我们自己定义的全局样式：

```css
@import "./normalize.css";

:root {
    --color-text: #666;
    --color-high-text: #42bBaa;
    --color-tint:#42b983;
    --color-background:#FFFFFF;
    --font-size:14px;
    --line-height:1.5;
}

*,  /* 设置所有元素 */
*::before,*::after {
    margin:0;
    padding:0;
    box-sizing: border-box;
}

body {
    user-select:none; /* 禁止用户选择中文件或图片 */;
    background: var(--color-background);
    color:var(--color-text);
    width:100vw;    /* 占整个设备的宽度 */
}

a {
    color:var(--color-text);
    text-decoration: none;
}

.left {
    float:left;
}

.right {
    float:right;
}

img {
    max-width: 100% !important;
    height: auto !important;
}
```

**注意**，在 `base.css` 文件中首行添加了引用：

```css
@import "./normalize.css";
```

这样，在后续引用 `base.css` 的文件中，也可以使用 `normalize.css` 中的样式。

**注意**，最好不要直接在 `normalize.css` 中修改或者添加样式，因为该项目还在更新中，如果后续直接将新的文件拷贝过来，就会覆盖掉我们自己编写的内容。



## 4. 初始化项目，封装网络请求

前端项目通过网络请求直接调用后台提供的接口，因此需要为每个页面单独封装网络请求

首先创建 `network` 目录，在该目录下，创建 `reques.js` 文件，用来编写通用内容，之后为每个页面单独新建文件，封装这个页面的网络请求。

![](https://raw.githubusercontent.com/Aiooon/blogImg/main/img/20210609211913.png)

 `reques.js` 中编写所有页面通用的网络请求方法

``` javascript
// 通用内容
// 网络请求 axios 插件
import axios from 'axios'

export function request(config) {
    const instance = axios.create({
        baseURL: 'https://api.shop.eduwork.cn',
        timeout: 5000
    })

    // 请求拦截
    instance.interceptors.request.use(config=>{
        // 如果有一个接口需要认证才可以访问，就这里统一设置

        // 直接放行
        return config;
    }, err=>{

    })

    // 响应拦截
    instance.interceptors.response.use(res=>{
        console.log(res.data);
        return res.data ? res.data : res;
    }, err=>{
        // 如果有需要授权才可以访问的接口，统一去login授权

        // 如果有错误，这里会处理并显示错误信息

    })

    return instance(config);
}
```

然后后续再为每个页面单独新建文件，添加这个页面的网络请求方法。例如对于主页，创建 `home.js` ，并引用 `reques.js` 中的通用方法：

```javascript
import {request} from './request'

export function getHomeAllData() {
    return request({
        url: '/api/index'
    })
}
```

