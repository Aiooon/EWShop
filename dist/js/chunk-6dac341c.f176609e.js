(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dac341c"],{"0417":function(e,t,c){"use strict";c("46cd")},"050d":function(e,t,c){"use strict";c("be29")},"1ab9":function(e,t,c){},"359b":function(e,t,c){},"46cd":function(e,t,c){},"509e":function(e,t,c){},"6d71":function(e,t,c){"use strict";var n=c("7a23"),a=Object(n["R"])("data-v-0478cc66");Object(n["A"])("data-v-0478cc66");var o={class:"goods"};Object(n["y"])();var i=a((function(e,t,c,a,i,r){var b=Object(n["F"])("goods-list-item");return Object(n["x"])(),Object(n["f"])("div",o,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.goods,(function(e){return Object(n["x"])(),Object(n["f"])(b,{product:e,key:e},null,8,["product"])})),128))])})),r=Object(n["R"])("data-v-544211ce");Object(n["A"])("data-v-544211ce");var b={alt:""},u={class:"goods-info"},l={class:"price"},s=Object(n["i"])("small",null,"¥",-1),d={class:"collect"};Object(n["y"])();var j=r((function(e,t,c,a,o,i){var r=Object(n["G"])("lazy");return Object(n["x"])(),Object(n["f"])("div",{class:"goods-item",onClick:t[1]||(t[1]=function(){return a.itemClick&&a.itemClick.apply(a,arguments)})},[Object(n["P"])(Object(n["i"])("img",b,null,512),[[r,c.product.cover_url]]),Object(n["i"])("div",u,[Object(n["i"])("p",null,Object(n["I"])(c.product.title),1),Object(n["i"])("span",l,[s,Object(n["h"])(Object(n["I"])(c.product.price),1)]),Object(n["i"])("span",d,Object(n["I"])(c.product.collects_count),1)])])})),O=c("6c02"),f={name:"GoodsListItem",props:{product:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(O["d"])();return{itemClick:function(){t.push({path:"/detail",query:{id:e.product.id}})}}}};c("d2a7");f.render=j,f.__scopeId="data-v-544211ce";var p=f,v={name:"GoodsList",props:{goods:{type:Array,default:function(){return[]}}},components:{GoodsListItem:p}};c("050d");v.render=i,v.__scopeId="data-v-0478cc66";t["a"]=v},a32e:function(e,t,c){},b3d7:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=Object(n["R"])("data-v-21d8b42d");Object(n["A"])("data-v-21d8b42d");var o={id:"home"},i=Object(n["h"])("图书商城"),r={class:"wrapper"},b={class:"content"},u={ref:"banref"};Object(n["y"])();var l=a((function(e,t,c,l,s,d){var j=Object(n["F"])("nav-bar"),O=Object(n["F"])("tab-control"),f=Object(n["F"])("home-swiper"),p=Object(n["F"])("recommend-view"),v=Object(n["F"])("goods-list"),m=Object(n["F"])("back-top");return Object(n["x"])(),Object(n["f"])("div",o,[Object(n["i"])(j,null,{default:a((function(){return[i]})),_:1}),Object(n["P"])(Object(n["i"])(O,{onTabClick:l.tabClick,titles:["热销","新书","精选"]},null,8,["onTabClick"]),[[n["L"],l.isTabFixed]]),Object(n["i"])("div",r,[Object(n["i"])("div",b,[Object(n["i"])("div",u,[Object(n["i"])(f,{banners:l.banners},null,8,["banners"]),Object(n["i"])(p,{recommends:l.recommends},null,8,["recommends"])],512),Object(n["i"])(O,{onTabClick:l.tabClick,titles:["热销","新书","精选"]},null,8,["onTabClick"]),Object(n["i"])(v,{goods:l.showGoods},null,8,["goods"])])]),Object(n["P"])(Object(n["i"])(m,{onBTop:l.bTop},null,8,["onBTop"]),[[n["L"],l.isTabFixed]])])})),s=c("2909"),d=Object(n["R"])("data-v-f9e9ef68");Object(n["A"])("data-v-f9e9ef68");var j={class:"tab-control"};Object(n["y"])();var O=d((function(e,t,c,a,o,i){return Object(n["x"])(),Object(n["f"])("div",j,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.titles,(function(e,t){return Object(n["x"])(),Object(n["f"])("div",{class:["tab-control-item",{active:t===a.currentIndex}],key:t,onClick:function(e){return a.itemClick(t)}},[Object(n["i"])("span",null,Object(n["I"])(e),1)],10,["onClick"])})),128))])})),f=c("a1e9"),p={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},setup:function(e,t){var c=t.emit,n=Object(f["j"])(0),a=function(e){n.value=e,c("tabClick",e)};return{currentIndex:n,itemClick:a}}};c("d81c");p.render=O,p.__scopeId="data-v-f9e9ef68";var v=p,m=c("a7ac"),g=(c("fb6a"),Object(n["R"])("data-v-466f6cc3"));Object(n["A"])("data-v-466f6cc3");var h={class:"recommend"},y={alt:""};Object(n["y"])();var k=g((function(e,t,c,a,o,i){var r=Object(n["G"])("lazy");return Object(n["x"])(),Object(n["f"])("div",h,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.recommends.slice(0,4),(function(e){return Object(n["x"])(),Object(n["f"])("div",{class:"recommend-item",key:e.id},[Object(n["i"])("a",{href:"",onClick:Object(n["Q"])((function(t){return a.goDetail(e.id)}),["prevent"])},[Object(n["P"])(Object(n["i"])("img",y,null,512),[[r,e.cover_url]]),Object(n["i"])("div",null,Object(n["I"])(e.title),1)],8,["onClick"])])})),128))])})),w=c("6c02"),C={name:"ReocommendView",props:{recommends:{type:Array,default:function(){return[]}}},setup:function(){var e=Object(w["d"])(),t=function(t){e.push({path:"/detail",query:{id:t}})};return{goDetail:t}}};c("d6a5");C.render=k,C.__scopeId="data-v-466f6cc3";var x=C,_=c("6d71"),T=c("725f"),I=Object(n["R"])("data-v-3aba9762");Object(n["A"])("data-v-3aba9762");var F={alt:""};Object(n["y"])();var A=I((function(e,t,c,a,o,i){var r=Object(n["F"])("van-swipe-item"),b=Object(n["F"])("van-swipe"),u=Object(n["G"])("lazy");return c.banners.length?(Object(n["x"])(),Object(n["f"])(b,{key:0,class:"my-swipe",autoplay:3e3,"indicator-color":"white"},{default:I((function(){return[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["D"])(c.banners,(function(e,t){return Object(n["x"])(),Object(n["f"])(r,{key:t},{default:I((function(){return[Object(n["P"])(Object(n["i"])("img",F,null,512),[[u,e.img_url]])]})),_:2},1024)})),128))]})),_:1})):Object(n["g"])("",!0)})),G={name:"HomeSwiper",props:{banners:{type:Array,default:function(){return[]}}}};c("b9b4");G.render=A,G.__scopeId="data-v-3aba9762";var R=G,B=c("1bab");function L(){return Object(B["a"])({url:"/api/index"})}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sales",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(B["a"])({url:"/api/index?"+e+"=1&page="+t})}var P=c("229e"),H=c("616b");P["a"].use(H["a"]);var S={name:"Home",setup:function(){var e=Object(n["C"])(!1),t=Object(n["C"])(!1),c=Object(n["C"])(null),a=Object(n["C"])([]),o=Object(n["B"])({sales:{page:0,list:[]},new:{page:0,list:[]},recommend:{page:0,list:[]}}),i=Object(n["C"])("sales"),r=Object(n["d"])((function(){return o[i.value].list})),b=Object(n["B"])({}),u=Object(n["C"])([]);Object(n["u"])((function(){L().then((function(e){a.value=e.goods.data,u.value=e.slides})),D("sales").then((function(e){o.sales.list=e.goods.data})),D("new").then((function(e){o.new.list=e.goods.data})),D("recommend").then((function(e){o.recommend.list=e.goods.data})),b=new P["a"](".wrapper",{probeType:3,click:!0,pullUpLoad:!0}),b.on("scroll",(function(n){t=e.value=-n.y>c.value.offsetHeight})),b.on("pullingUp",(function(){var e=o[i.value].page+1;D(i.value,e).then((function(e){var t;(t=o[i.value].list).push.apply(t,Object(s["a"])(e.goods.data)),o[i.value].page+=1})),b.finishPullUp(),b.refresh(),console.log("contentheight:"+document.querySelector(".content").clientHeight),console.log("当前类型:"+i.value+",当前页："+e)}))}));var l=function(e){var t=["sales","new","recommend"];i.value=t[e],Object(n["p"])((function(){b&&b.refresh()}))};Object(n["N"])((function(){Object(n["p"])((function(){b&&b.refresh()}))}));var d=function(){b.scrollTo(0,100,500)};return{isTabFixed:e,isShowBackTop:t,banref:c,recommends:a,goods:o,showGoods:r,tabClick:l,bTop:d,banners:u}},components:{NavBar:m["a"],RecommendView:x,TabControl:v,GoodsList:_["a"],BackTop:T["a"],HomeSwiper:R}};c("0417");S.render=l,S.__scopeId="data-v-21d8b42d";t["default"]=S},b9b4:function(e,t,c){"use strict";c("1ab9")},be29:function(e,t,c){},d2a7:function(e,t,c){"use strict";c("359b")},d6a5:function(e,t,c){"use strict";c("a32e")},d81c:function(e,t,c){"use strict";c("509e")}}]);
//# sourceMappingURL=chunk-6dac341c.f176609e.js.map