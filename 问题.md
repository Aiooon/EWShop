# 项目开发中遇到的问题

## 1. 声明响应式变量

从后台获取数据时，因为是异步获取数据，可能前端页面加载时还没有获取到数据，因此可能发生错误。这时需要声明响应式变量，例如下面代码中的 `recommends`：

```javascript
setup () {
    const recommends = ref([]);

    onMounted( ()=>{
        // console.log(recommends);
        getHomeAllData().then(res=>{
            console.log(res);
            recommends.value = res.goods.data;
        })
    })

    return {
        recommends
    }
},
```



## 2. useRoute 和 useRouter 的区别，不要混淆



## 3. 获取路由传递的数据

获取路由中传递的 `id` 

```javascript
const route = useRoute();
let id = ref(0);
```

如果用动态路由：

```javascript
id.value = route.params.id;
```

不用动态路由：

```javascript
id.value = route.query.id;
```

